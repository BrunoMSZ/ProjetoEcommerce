<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minha Loja - Início</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/styles.css') }}">
</head>
<body>
    <header>
        <div class="container">
            <h1>Minha Loja</h1>
            <button class="login-button" onclick="toggleLoginForm()">Login</button>
            <nav>
                <ul>
                    <li><a href="inicio">Início</a></li>
                    <li><a href="#">Categorias</a></li>
                    <li><a href="#">Ofertas</a></li>
                    <li><a href="#">Contato</a></li>
                    <li><a href="carrinho">Carrinho (<span id="cart-count">0</span>)</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <main>
        <div class="container" id="inicio">
            <section class="products">
                <article class="product">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRMclx6Edjn36P9kQHc1r5s_ARvlP75L3fZcw&s" alt="Produto 1">
                    <h2>Produto 1</h2>
                    <p>Descrição do produto 1</p>
                    <p class="price">R$ 99,90</p>
                    <button class="add-to-cart" onclick="addToCart('Produto 1', 99.90)">Adicionar ao Carrinho</button>
                </article>
                <article class="product">
                    <img src="https://img.terabyteshop.com.br/produto/p/mousepad-gamer-redragon-p026-rgb-grande_82224.jpg" alt="Produto 2">
                    <h2>Produto 2</h2>
                    <p>Descrição do produto 2</p>
                    <p class="price">R$ 199,90</p>
                    <button class="add-to-cart" onclick="addToCart('Produto 2', 199.90)">Adicionar ao Carrinho</button>
                </article>
                <!-- Adicione mais produtos aqui -->
            </section>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2024 Minha Loja. Todos os direitos reservados.</p>
        </div>
    </footer>

    <!-- Formulário de Login -->
    <div class="login-form" id="loginForm">
        <div class="login-form-content">
            <h2>Login</h2>
            <form action="/login" method="post">
                <label for="email">E-mail:</label>
                <input type="email" id="email" name="email" required>
                
                <label for="senha">Senha:</label>
                <input type="password" id="senha" name="senha" required>
                
                <button type="submit">Entrar</button>
            </form>
            <button class="close" onclick="toggleLoginForm()">Fechar</button>
        </div>
    </div>

    <script>
        let cartCount = 0;
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

        function toggleLoginForm() {
            var loginForm = document.getElementById('loginForm');
            if (loginForm.style.display === 'flex') {
                loginForm.style.display = 'none';
            } else {
                loginForm.style.display = 'flex';
            }
        }

        // Atualização do código existente

        function addToCart(name, price) {
            cartCount++;
            document.getElementById('cart-count').innerText = cartCount;

            // Adiciona o item ao localStorage
            cartItems.push({ name, price });
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
        }


        // Atualiza a contagem de itens no carrinho ao carregar a página
        document.getElementById('cart-count').innerText = cartItems.length;
    </script>
</body>
</html>
